<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="styles/styles.css">
    <title>jquery-table Yuriy Sokolsky </title>
</head>

<body>
<div class="mx-auto mt-5 w-50">
    <div class="menu">
        <div class="row d-flex justify-content-center mr-0 ml-0">
            <input type="text" class="form-control col-md-4 " id="serachProduct" placeholder="Enter product name...">
            <div class="col-md-4"><input type="button" class="btn btn-outline-secondary  " value="Search" /></div>
            <div class="col-md-4"><input id="openAddNew" type="button" class="btn btn-outline-secondary float-right mr-0" value="Add New" /></div>

        </div>
    </div>
    <div id="grid-holder"></div>
    <script type="text/template" id="grid-template">
        <table  class="table table-bordered mt-5">
            <thead>
            <tr>
                <th scope="col">Name</th>
                <th scope="col">Price</th>
                <th scope="col">Actions</th>
            </tr>
            </thead>
            <tbody>
            <% for(var i = 0; i < list.length; i++) { %>
            <tr id="<%=encodeURIComponent(list[i].id)%>" name="<%=encodeURIComponent(list[i].productName)%>">
                <td>
                    <div class="float-left ml-0" >
                        <a name='openDetail' href="#"> <%=list[i].productName%></a>
                    </div>
                    <div class="float-right mr-0 badge badge-dark">
                        <%=list[i].count%>
                    </div>
                    </div>
                </td>
                <td>
                    <%= ('$' + parseFloat(list[i].price, 10).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g, "$1,").toString())%>
                </td>
                <td>
                    <input name="openEdit"  type="button" class="btn btn-outline-primary" value="Edit" />
                    <input name="buttonDelete"  type="button"  class="btn btn-outline-secondary ml-3" value="Delete" />
                </td>
            </tr>
            <% } %>
            </tbody>
        </table>
    </script>

</div>

<div id="modalBackround" class="modalBackround">
    <div class="modalDialogAlert">
        <div class="modalContent">
            <div class="modalHeader">Are you sure?
                <span class="close closeModalDialog">&times;</span>
            </div>
            <div id="alert-holder" class="text-center"></div>
            <script type="text/template" id="alert-template">
                <div>Are you sure you want to delete <b><%=productName%></b> ?</div>
            <input id="yesDelete" type="button" onclick="deleteProduct('<%=productId%>')" class="btn btn-outline-primary m-3" value="Yes" />
            <input id="CancelDelete" type="button" class="btn btn-outline-secondary m-3" onclick="closemodals()" value="No" />
         </script>
        </div>

    </div>
    <div class="modalDialogEdit">
        <div class="modalContent border rounded border-dark">
            <div class="modalHeader">Product Name
                <span class="close closeModalDialog">&times;</span>
            </div>

            <form name="Product">
                <input type="text" class=" d-none" id="productid" name="id" >
                <div class="form-group w-50 pt-3">
                    <label for="productName">Name: *</label>
                    <input type="text" class="form-control" id="productName" name="productName" required maxlength="15" minlength="5">
                    <small id="nameMaxLenAlert" class="form-text d-none text-danger">Name must be between 5 and 15 characters</small>
                </div>
                <div class="form-group w-50">
                    <label for="supplierEmail">Supplier email: *</label>
                    <input type="email" class="form-control" id="supplierEmail" name="email" required>
                </div>
                <div class="form-group w-25">
                    <label for="productCount">Count: *</label>
                    <input type="text" class="form-control" id="productCount" name="count" required>
                </div>
                <div class="form-group w-50">
                    <label for="productPrice">Price: *</label>
                    <input type="text" class="form-control" id="productPrice" name="price" required>
                    <small id="productPriceAlert" class="form-text d-none text-danger">Enter valid decimal number</small>
                </div>

                <span>Delivery: </span>
                <row class="d-flex mb-2">
                    <select class="form-control col-md-4" name="country" id="selCountry">
                        <option selected="selected"> Select country</option>
                        <option value="Russia">Russia</option>
                        <option value="Belorus">Belorus</option>
                        <option value="USA">USA</option>
                    </select>
                    <div id="checkboxGroup" class="form-group col-md-5 border rounded border-dark ml-5 d-none">
                        <div class="checkbox border-bottom border-dark pt-1">
                            <input type="checkbox" class="check" id="checkAll"> Select All
                        </div>
                        <div class="checkbox pt-1">
                            <input type="checkbox" class="check" name="city1" id="city1"><label for="city1" class="mb-0 pl-1">Saratov</label>
                        </div>
                        <div class="checkbox pt-1">
                            <input type="checkbox" class="check" name="city2" id="city2"><label for="city2" class="mb-0 pl-1">Moscow</label>
                        </div>
                        <div class="checkbox pt-1">
                            <input type="checkbox" class="check" name="city3" id="city3"><label for="city3" class="mb-0 pl-1">St. Petersburg</label>
                        </div>
                    </div>
                </row>
                <input id="SaveChangesButton" type="submit" class="btn btn-outline-primary" value="Save changes" />
                <input id="Cancel" type="button" class="btn btn-outline-secondary ml-3" value="Cancel" />
            </form>

        </div>
    </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/lodash@4.17.15/lodash.min.js" type="text/javascript"></script>
<script src="https://code.jquery.com/jquery-3.5.0.min.js" type="text/javascript"></script>

<script src="./scripts/script.js" type="text/javascript"></script>
</body>

</html>
